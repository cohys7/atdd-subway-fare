# 지하철 노선도 미션
[ATDD 강의](https://edu.nextstep.camp/c/R89PYi5H) 실습을 위한 지하철 노선도 애플리케이션

## 🚀 실습 - 뼈대 코드 준비 & 문서화 실습
Spring Rest Docs 적용하기


## 🚀 1단계 - 경로 조회 타입 추가

### 요구사항
- 경로 조회 시 최소 시간 기준으로 조회할 수 있도록 기능 추가
- 노선추가 & 구간 추가 시 거리와 함께 소요시간 정보 추가
- 인수 테스트 (수정) -> 문서화 -> 기능 구현 순 구현
- 개발 흐름을 파악할 수 있도록 커밋을 작은 단위로 나누기

### 인수조건
```
  Given 지하철역이 등록되어있음
  And 지하철 노선이 등록되어있음
  And 지하철 노선에 지하철역이 등록되어있음
  When 출발역에서 도착역까지의 최소 시간 기준으로 경로 조회를 요청
  Then 최소 시간 기준 경로를 응답
  And 총 거리와 소요 시간을 함께 응답함
```


## 🚀 2단계 - 요금 조회

### 요구사항
경로 조회 결과에 요금 정보 추가
- 기본 요금(10㎞ 이내) : 기본운임 1,250원 
- 이용 거리초과 시 추가운임 부과 
  - 10km 초과 ∼ 50km 까지 : 5km 마다 100원 
  - 50km 초과 : 8km 마다 100원

### 인수조건
```
  Given 지하철역이 등록되어있음
  And 지하철 노선이 등록되어있음
  And 지하철 노선에 지하철역이 등록되어있음
  When 출발역에서 도착역까지의 최단 거리 경로 조회를 요청
  Then 최단 거리 경로를 응답
  And 총 거리와 소요 시간을 함께 응답함
  And 지하철 이용 요금도 함께 응답함
```


## 🚀 3단계 - 요금 정책 추가

### 요구사항
- 노선별 추가 요금
  - 추가 요금이 있는 노선을 이용 할 경우 측정된 요금에 추가
  - 경로 중 추가요금이 있는 노선을 환승 하여 이용 할 경우 가장 높은 금액의 경로 추가요금만 적용
- 로그인 사용자의 경우 연령별 요금으로 계산
  - 청소년(13세 이상~19세 미만): 운임에서 350원을 공제한 금액의 20%할인
  - 어린이(6세 이상~ 13세 미만): 운임에서 350원을 공제한 금액의 50%할인

### 인수조건
```
  Given 지하철역이 등록되어있음
  And 지하철 노선이 등록되어있음
  And 지하철 노선에 지하철역이 등록되어있음
  When 출발역에서 도착역까지의 최단 거리 경로 조회를 요청
  Then 최단 거리 경로를 응답
  And 총 거리와 소요 시간을 함께 응답함
  And 추가요금이 있는 노선의 경우 가장 높은 금액의 요금이 추가됨

  Given 지하철역이 등록되어있음
  And 지하철 노선이 등록되어있음
  And 지하철 노선에 지하철역이 등록되어있음
  And 회원 가입 후 로그인을 했음
  When 출발역에서 도착역까지의 최단 거리 경로 조회를 요청
  Then 최단 거리 경로를 응답
  And 총 거리와 소요 시간을 함께 응답함
  And 연령에 따라 지하철 이용 요금이 할인됨
```